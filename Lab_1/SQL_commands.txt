Создание таблиц:
CREATE TABLE IF NOT EXISTS `goods` (`id` int NOT NULL AUTO_INCREMENT, `name` varchar(100) NOT NULL, `price` int NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


CREATE TABLE IF NOT EXISTS `positions` (`id` int NOT NULL AUTO_INCREMENT, `name` varchar(100) NOT NULL, `salary_rate` int NOT NULL, PRIMARY KEY (`id`), CONSTRAINT `chk_name_not_empty` CHECK (`name` <> ''), CONSTRAINT `chk_positive_salary` CHECK (`salary_rate` > 0)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


CREATE TABLE IF NOT EXISTS `employees` (`id` int NOT NULL AUTO_INCREMENT, `first_name` varchar(100) NOT NULL, `second_name` varchar(100) NOT NULL, `position_id` int NOT NULL, PRIMARY KEY (`id`),  FOREIGN KEY (`position_id`) REFERENCES `positions`(`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


CREATE TABLE IF NOT EXISTS schedule (employee_id INT NOT NULL, work_hours INT NOT NULL, date DATE NOT NULL, PRIMARY KEY (employee_id, date), FOREIGN KEY (employee_id) REFERENCES employees(id), CONSTRAINT chk_work_time_limits CHECK (work_hours BETWEEN 0 AND 12)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


CREATE TABLE IF NOT EXISTS orders (id INT PRIMARY KEY AUTO_INCREMENT, employee_id INT NOT NULL, total_price INT NOT NULL, date_time DATETIME NOT NULL DEFAULT NOW(), CONSTRAINT fk_orders_employee FOREIGN KEY (employee_id) REFERENCES employees(id), CONSTRAINT chk_total_price CHECK (total_price >= 0)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE IF NOT EXISTS orders_goods (order_id INT NOT NULL, good_id INT NOT NULL, quantity INT NOT NULL DEFAULT 1, PRIMARY KEY (order_id, good_id), FOREIGN KEY (order_id) REFERENCES orders(id), FOREIGN KEY (good_id) REFERENCES goods(id), CONSTRAINT chk_quantity_positive CHECK (quantity > 0)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


Restrictions на внешние ключи:
ALTER TABLE `employees` DROP FOREIGN KEY `employees_ibfk_1`, ADD CONSTRAINT `employees_ibfk_1` FOREIGN KEY (`position_id`) REFERENCES `positions` (`id`)  ON DELETE RESTRICT ON UPDATE CASCADE;


SELECT TABLE_NAME, CONSTRAINT_NAME, CONSTRAINT_TYPE FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE TABLE_SCHEMA = DATABASE() AND CONSTRAINT_TYPE = 'FOREIGN KEY';


ALTER TABLE goods ADD CONSTRAINT chk_price_positive CHECK (price > 0);
ALTER TABLE goods ADD CONSTRAINT uk_goods_name UNIQUE (name);
ALTER TABLE goods ADD CONSTRAINT chk_name_not_empty CHECK (name <> '');


SELECT CONSTRAINT_NAME, CONSTRAINT_TYPE FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE TABLE_NAME = 'goods' AND TABLE_SCHEMA = DATABASE();


SELECT TABLE_NAME, COLUMN_NAME, COLUMN_TYPE, IS_NULLABLE, COLUMN_KEY, COLUMN_DEFAULT, EXTRA FROM INFORMATION_SCHEMA.COLUMNS  WHERE TABLE_SCHEMA = DATABASE() ORDER BY TABLE_NAME, ORDINAL_POSITION;

SELECT TABLE_NAME, COLUMN_NAME, CONSTRAINT_NAME, REFERENCED_TABLE_NAME, REFERENCED_COLUMN_NAME FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE WHERE TABLE_SCHEMA = DATABASE() AND REFERENCED_TABLE_NAME IS NOT NULL;

SELECT TABLE_NAME, CONSTRAINT_NAME, CONSTRAINT_TYPE FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE TABLE_SCHEMA = DATABASE();